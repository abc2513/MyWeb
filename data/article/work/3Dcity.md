# 网页渲染3D内容

#### 原理

- webGL是通过JavaScript操作OpenGL接口的一套图形API，可在Web浏览器中渲染2D/3D图形。而Three.js对于webGL进行封装，使得可用较为简单的代码实现3D图形的渲染。
- 使用react脚手架作为开发环境，调用Three.js渲染3D模型，并提供可能的交互行为

#### 要点

- 创建场景、相机、渲染器、轨道控制器、光源
  - 加载天空盒作为背景

- 加载外部3D模型
- 定义物体选择器的类用于选中物体（未来可在此拓展物体交互行为）
  - 用正则表达式匹配name属性，排除非主要物体
  - 选中物体发生改变时，发布全局消息

- 创建html标签并对齐指定物体
  - 在鼠标松开时，检测相机到每个物体的连线是否第一个穿过该物体，否则隐藏该物体上的标签

- 添加FPS监视器，用于检查运行情况




#### 网页截图

![image-20230507214010476](3Dcity.assets/image-20230507214010476.png)

##### 模型展示

![image-20230418181815128](3Dcity.assets/image-20230418181815128.png)

##### 模型俯视

![image-20230418192948472](3Dcity.assets/image-20230418192948472.png)

##### 鼠标选中物体（闪烁红光）

![image-20230418183507663](3Dcity.assets/image-20230418183507663.png)

#### 3d建模过程截图

![image-20230418181953035](3Dcity.assets/image-20230418181953035.png)
