## React

### 1、React Fiber架构的原理是什么？为什么需要Fiber？

React16对React核心算法一次重写，使原来同步的渲染过程变成可打断的异步渲染模式，降低卡顿，提升流畅度。

- React16前，组件更新都会形成新的虚拟DOM，和上一个虚拟DOM进行diff算法对比，对真实DOM定向更新。
  - 占用主线程，浏览器无法处理用户交互。有卡顿、卡死分享
- Fiber会把大的更新任务分割成小个任务，执行完一个，更新渲染都会交回主线程，看看有没有优先级更高的线程，有的话执行优先级高的，没有再继续渲染

> fiber tree是一种数据结构，它把虚拟dom tree连接成一个链表，从而可以让遍历操作可以支持断点重启。

### 2、react hook的好处和限制是什么？

- hook是react提供的一类API，它给函数式组件增加状态、生命周期钩子等功能，弥补函数组件无状态的缺点，并将功能代码聚合在一起。
- 限制：只能在函数组件内部、而且是最外层调用，不能在组件外、分支/循环中、其他JavaScript函数中调用